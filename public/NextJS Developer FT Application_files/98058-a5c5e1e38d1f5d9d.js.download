try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="edb7f8fb-d400-437d-9dc0-3b9af7756080",e._sentryDebugIdIdentifier="sentry-dbid-edb7f8fb-d400-437d-9dc0-3b9af7756080")}()}catch(e){}!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[(new e.Error).stack]=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},e._sentryModuleMetadata[(new e.Error).stack],{"_sentryBundlerPluginAppKey:so.tally.main-application":!0})}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98058],{22255:(e,t,n)=>{"use strict";n.d(t,{A:()=>eI});var r=n(51220),o=n(78191),i=n(99649),a=n(93096),u=n(60573),l=n(59638),s=n(13829),c=n(6029),d=n(4765),f=n(63178),p=n(76933),m=n(96110),v=n(17268),h=n(41716),g=n(12364),y=n.n(g),b=n(83817),w=n.n(b),x=n(61740),_=n(80506),k=n(39477),S=n(58472),T=n(71024),C=n.n(T),I=n(55729),N=n(29733),M=n(94145),j=n(7606),A=n(38976),E=n(55110),D=n(56577),F=n(71813),U=n(29313),P=n(51532),O=n(64239),H=M.Ay.div.withConfig({componentId:"sc-55910b0e-0"})(["display:flex;background:",";direction:",";"," ",""],function(e){return e.theme.color.background},function(e){return e.theme.direction},function(e){return e.styles.transparentBackground&&"\n    background: transparent;\n  "},function(e){return e.styles.alignLeft&&"\n    overflow: hidden;\n  "}),L=M.Ay.main.withConfig({componentId:"sc-55910b0e-1"})(["display:flex;flex-direction:column;width:100%;height:auto;min-height:100vh;"," ",""],function(e){var t=e.styles;return(t.popup||t.embed&&t.dynamicHeight)&&"\n    height: auto;\n    min-height: auto;\n  "},function(e){var t=e.styles;return(t.popup||t.embed&&t.dynamicHeight)&&t.lastPageHeight&&"\n    min-height: ".concat(t.lastPageHeight,"px;\n  ")});let B=function(e){var t=e.metaData,n=e.integrations,r=e.styles,o=e.children;return(0,c.jsx)(I.Fragment,{children:(0,c.jsxs)(H,{className:"tally-app",styles:r,"data-sentry-element":"Container","data-sentry-source-file":"index.tsx",children:[(0,c.jsx)(O.A,{metaData:t,integrations:n,"data-sentry-element":"LayoutHead","data-sentry-source-file":"index.tsx"}),(0,c.jsx)(L,{styles:r,"data-sentry-element":"Content","data-sentry-source-file":"index.tsx",children:o})]})})};var G=n(25730),R=n(75534);let Q=function(e,t){(0,I.useEffect)(function(){if(t.isCustomDomain&&document&&document.querySelectorAll){var e=document.querySelectorAll("form a");e&&0!==e.length&&e.forEach&&e.forEach(function(e){var t;e&&e.getAttribute&&0===(null!=(t=e.getAttribute("href"))?t:"").indexOf(window.location.origin)&&"_blank"===e.getAttribute("target")&&e.removeAttribute("target")})}},[e])};var $=n(40188),J=n(84580);let Y=function(e){var t=(0,u._)((0,I.useState)(1),2),n=t[0],r=t[1],o=(0,I.useMemo)(function(){return(0,J.TW)(e)},[n]);return(0,I.useEffect)(function(){var e=function(e){var t;(null==(t=e.key)?void 0:t.includes("FORM_SESSION_"))&&r(function(e){return e+1})};return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}},[]),o};var q=n(45500),z=n(51032),V=n(36679),W="tally-page-transition",K=n(81278);let Z=function(e,t,n){var r=(0,K.useRouter)(),o=(0,I.useCallback)(function(n){if(e&&e()){if(n.preventDefault)n.preventDefault(),n.returnValue="";else if(!confirm(t))throw"routeChangeStopped"}},n);(0,I.useEffect)(function(){var e,t;return null==(e=window)||e.addEventListener("beforeunload",o),null==r||null==(t=r.events)||t.on("routeChangeStart",o),function(){var e,t;null==(e=window)||e.removeEventListener("beforeunload",o),null==r||null==(t=r.events)||t.off("routeChangeStart",o)}},[o])};var X=n(2919),ee=0,et=!1,en=function(){return!!(window&&window.fbq)},er=function(e){en()?e():++ee<5?setTimeout(function(){er(e)},1e3*ee+100):et=!0},eo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};en()?fbq("trackCustom",e,t):et||er(function(){eo(e,t)})},ei=0,ea=!1,eu=function(){return!!(window&&window.gtag||window&&window.dataLayer)},el=function(e){eu()?e():++ei<5?setTimeout(function(){el(e)},1e3*ei+100):ea=!0},es=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eu()?window.gtag?window.gtag("event",e,(0,a._)((0,i._)({},t),{non_interaction:!0})):window.dataLayer&&window.dataLayer.push((0,a._)((0,i._)({event:e},t),{non_interaction:!0})):ea||el(function(){es(e,t)})},ec=n(50499),ed=n(40936),ef=n(26785),ep=n(30279),em=n(86750),ev=n(80013),eh=n(73881),eg=n(98194),ey=n(91184),eb=n(91327),ew=C()(function(){return n.e(44245).then(n.bind(n,44245))},{loadableGenerated:{webpack:function(){return[44245]}},ssr:!0}),ex=C()(function(){return n.e(99061).then(n.bind(n,21442))},{loadableGenerated:{webpack:function(){return[21442]}},ssr:!1}),e_=!1,ek=!0,eS=!1,eT={},eC={};let eI=function(e){var t,n,g,b,T=e.formId,C=e.workspaceId,O=e.name,H=e.blocks,L=e.isClosed,K=e.isPreview,ee=e.settings,et=e.metaData,er=e.integrations,ei=e.styles,ea=e.subscriptionPlan,el=e.hasError,eI=e.country,eN=(0,N.Bd)().t,eM=(0,M.DP)(),ej=(0,u._)((0,I.useState)(!1),2),eA=ej[0],eE=ej[1],eD=(0,u._)((0,I.useState)(),2),eF=eD[0],eU=eD[1],eP=(0,u._)((0,I.useState)(1),2),eO=eP[0],eH=eP[1],eL=(0,u._)((0,I.useState)([1]),2),eB=eL[0],eG=eL[1],eR=(0,u._)((0,I.useState)(!1),2),eQ=eR[0],e$=eR[1],eJ=(0,u._)((0,I.useState)({}),2),eY=eJ[0],eq=eJ[1],ez=(0,u._)((0,I.useState)(L),2),eV=ez[0],eW=ez[1],eK=(0,u._)((0,I.useState)({formName:O}),2),eZ=eK[0],eX=eK[1],e0=(0,u._)((0,I.useState)(!1),2),e1=e0[0],e2=e0[1],e4=(0,I.useMemo)(function(){return(0,ep.Gf)((0,ep.Li)(H))},[]),e3=Y(T),e9=(0,I.useMemo)(function(){return(0,J.S5)(C)},[]),e5=(0,$.Ay)({mode:"respond",formId:T,blocks:H,settings:ee,page:eO,pages:e4,pageHistory:eB,country:eI}),e6=e5.formData,e7=e5.onChangeFormData,e8=(0,J.pE)(eO,e4,H,ee,e6,e7),te=e8.buttonLabel,tt=e8.canAutoJumpToNextPage,tn=e8.cover,tr=e8.coverSettings,to=e8.isCustomThankYouPage,ti=e8.isLastInputPage,ta=e8.logo,tu=e8.nextPage,tl=e8.pageBlocks,ts=e8.pageFilledIn,tc=e8.pageQuestions,td=e8.showBackButton,tf=e8.showMaliciousFormWarning,tp=e8.showSubmitButton,tm=(0,R.F)(),tv=tm.track,th=tm.isStarted,tg=(0,q.A)((0,i._)({},e6,eY),tl,tc,function(e){return tQ(e)},function(){return t$()}),ty=tg.formErrors,tb=tg.isPaying,tw=tg.showPayDisclaimer,tx=tg.onSubmit,t_=tg.setFormErrors,tk=((0,I.useEffect)(function(){return function(){document.body.classList.remove(W)}},[]),(0,I.useEffect)(function(){setTimeout(function(){document.body.classList.remove(W)},50)},[eO]),function(){document.body.classList.add(W)});et=(0,a._)((0,i._)({},et),{isFormRespondPage:!0,isFormEmbedded:(0,ec.al)(),title:"undefined"!=typeof document&&document.title?document.title:et.title||O||eN("title.form"),description:et.description||(ei.removeBranding?"":eN("description.respond")),imageUrl:et.imageUrl||tn||"",font:(null==ee||null==(t=ee.styles)?void 0:t.font)||void 0,language:null!=(n=null==ee?void 0:ee.language)?n:m.TM.English,doNotTrack:K,faviconType:et.faviconUrl?(0,ed.vE)(et.faviconUrl):null}),ei.withMedia=!!ta||!!tn;var tS=!eA&&!ei.removeBranding,tT=null!=te?te:eN(ti?"label.submit":"label.next"),tC=!!(null==ee?void 0:ee.isPasswordProtected),tI=(0,u._)((0,I.useState)(""),2),tN=tI[0],tM=tI[1],tj=function(){tv([{event:f.$x.PageView,sessionUuid:e3,page:eO}]),(0,ey.N)(ey.v.TallyFormPageView,{formId:T,page:eO}),(0,ec.al)()&&(0,ec.$Y)({event:ey.v.TallyFormPageView,payload:{formId:T,page:eO}}),eu()&&es(ey.v.TallyFormPageView,{event_category:window.location.pathname,event_label:"Page ".concat(eO)}),en()&&eo(ey.v.TallyFormPageView,{content_category:window.location.pathname,value:eO})},tA=function(e,t){var n=(0,J.qU)(e,t,T,O,H,e6);(0,ey.N)(ey.v.TallyFormSubmitted,n),(0,ec.al)()&&(0,ec.$Y)({event:ey.v.TallyFormSubmitted,payload:n}),eu()&&es(ey.v.TallyFormSubmitted,{event_category:window.location.pathname,event_label:O}),en()&&eo(ey.v.TallyFormSubmitted,{content_category:window.location.pathname,content_name:O})},tE=function(e){var t=e4[e-1];if(t){var n=t.filter(function(e){return e.type===p._B_.Captcha}).map(function(e){return e.groupUuid});if(0!==n.length){var r=!1,o=(0,i._)({},eY),a=!0,u=!1,l=void 0;try{for(var s,c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var d=s.value;o[d]&&((0,ey.N)(ey.v.CaptchaReset,{response:o[d].response}),delete o[d],r=!0)}}catch(e){u=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}r&&eq(o)}}},tD=function(e){var t;e===tu&&tv([{event:f.$x.PageComplete,sessionUuid:e3,page:eO}]),tk(),eH(e),null==(t=window)||t.scrollTo(0,0)},tF=(0,V.A)(e6,H,tt,ts,function(){return t$()}),tU=tF.isAutoJumping,tP=tF.setIsAutoJumping,tO=tF.setLastChangedGroupUuid,tH=function(){if(tU&&tP(!1),eA)return void eE(!1);var e=eB[eB.length-2];e&&(eG(eB.slice(0,-1)),tD(e))},tL=function(e){var t=0,n=!0,r=!1,o=void 0;try{for(var i,a=e4[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(t++,u.find(function(t){return t.groupUuid===e})){var l=eB.indexOf(t);return -1!==l&&eG(eB.slice(0,l+1)),tD(t),t}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null},tB=(0,I.useCallback)(function(){return(0,r._)(function(){var e;return(0,s.__generator)(this,function(t){switch(t.label){case 0:if(K||eS||w()(eT,eC))return[2];eS=!0,e=(0,i._)({},eT),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,X.Ay.post("/forms/".concat(T,"/respond"),{sessionUuid:e3,respondentUuid:e9,responses:e,isCompleted:!1,password:tN})];case 2:case 3:return t.sent(),[3,4];case 4:for(var n in ek=!1,eS=!1,eC=(0,i._)({},e),e)delete eT[n];return Object.keys(eT).length>0&&tB(),[2]}})})()},[T,e3,e9,tN,K]),tG=(0,I.useMemo)(function(){return y()(tB,2e3)},[tB]),tR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,r._)(function(){var t,n,r,o,i,a,u,l,c,d;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,5]),[4,X.Ay.post("/forms/".concat(T,"/respond"),{sessionUuid:e3,respondentUuid:e9,responses:e6,captchas:eY,isCompleted:!0,password:tN})];case 1:return n=(t=s.sent().data).submissionId,r=t.respondentId,e_=!0,[2,{submissionId:n,respondentId:r}];case 2:if((null==(d=o=s.sent())||null==(a=d.response)||null==(i=a.data)?void 0:i.errorType)==="INVALID_CAPTCHA"||(null==d||null==(l=d.response)||null==(u=l.data)?void 0:u.errorType)==="FORM_UNIQUE_SUBMISSION_CONFLICT")return[2,{submissionId:void 0,respondentId:void 0,error:o}];if((null==d||null==(c=d.response)?void 0:c.status)===h.A.FORBIDDEN)return eW(!0),[2,{submissionId:void 0,respondentId:void 0,error:o}];if(e>=3)return[2,{submissionId:void 0,respondentId:void 0,error:o}];return[4,(0,ef.y)((e+1)*5e3)];case 3:return s.sent(),[4,tR(e+1)];case 4:return[2,s.sent()];case 5:return[2]}})})()},tQ=function(e){return(0,r._)(function(){return(0,s.__generator)(this,function(t){for(var n in e7(e),eT=(0,i._)({},eT,e),tB(),Object.keys(e))tv([{event:f.Ay.QuestionAnswer,sessionUuid:e3,blockGroupUuid:n}]);return[2]})})()},t$=function(){return(0,r._)(function(){var e;return(0,s.__generator)(this,function(t){switch(t.label){case 0:if(th||tv([{event:f.$x.FormStart,sessionUuid:e3,page:eO}]),tv(Object.entries(e6).filter(function(e){var t=(0,u._)(e,2),n=t[0],r=t[1];return!(0,m.Im)(r)&&tc.some(function(e){return e.blockGroupUuid===n})}).map(function(e){var t=(0,u._)(e,1)[0];return{event:f.Ay.QuestionAnswer,sessionUuid:e3,blockGroupUuid:t}})),!(!e_&&!eQ&&ti))return[3,2];return[4,(0,r._)(function(){var e,t,n,r,u,c,f,p,v,h,g,y;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(K)return e_=!0,[2];if(eQ)return[2];if(e$(!0),eU(void 0),!tG)return[3,3];return[4,tG.flush()];case 1:return s.sent(),[4,(0,ef.f)(function(){return!eS})];case 2:s.sent(),s.label=3;case 3:return[4,tR()];case 4:if(t=(e=s.sent()).submissionId,n=e.respondentId,r=e.error,eX(function(e){return(0,a._)((0,i._)({},e),{id:t,respondentId:n})}),r){if((null==r||null==(c=r.response)||null==(u=c.data)?void 0:u.errorType)==="INVALID_CAPTCHA")try{if(v=r.response.data.errors[0].field,h=tL(v),null!==h)return t_((0,o._)({},v,[m.g1.ShouldSolveCaptcha])),tE(h),e$(!1),[2]}catch(e){(0,d.Cp)(e)}if((null==r||null==(p=r.response)||null==(f=p.data)?void 0:f.errorType)==="FORM_UNIQUE_SUBMISSION_CONFLICT")return e2(!0),e$(!1),[2];return eU(r),(0,d.Cp)(r),(0,d.wd)("Form submit: error",{extra:{formId:T,sessionUuid:e3,respondentUuid:e9,formData:JSON.stringify(null!=e6?e6:{}),isFormEmbedded:et.isFormEmbedded}}),tH(),e$(!1),[2]}if(!t||!n)return(0,d.wd)("Form submit: missing submissionId",{extra:{formId:T,sessionUuid:e3,respondentUuid:e9,formData:JSON.stringify(null!=e6?e6:{}),isFormEmbedded:et.isFormEmbedded}}),tH(),e$(!1),[2];try{tA(t,n),(0,J.No)(T),(0,J.pk)(T),(0,eh.bR)(Object.keys(e6))}catch(e){(0,d.Cp)(e),(0,d.wd)("Form submit: post-submit action failed",{extra:{formId:T,sessionUuid:e3,respondentUuid:e9,formData:JSON.stringify(null!=e6?e6:{}),isFormEmbedded:et.isFormEmbedded}})}if(null==ee?void 0:ee.redirectOnCompletion)try{return g=(0,eg.te)(ee.redirectOnCompletion,H,e6,{id:t,respondentId:n,formName:O}),(0,ec.al)()?window.top&&(window.top.location.href=g):window.location.href=g,[2]}catch(e){if(null===tu)return ei.lastPageHeight=Math.min(document.body.clientHeight,window.innerHeight),eE(!0),null==(y=window)||y.scrollTo(0,0),[2];eG((0,l._)(eB).concat([tu])),tD(tu)}return e$(!1),[2]}})})()];case 1:if(t.sent(),(null==ee?void 0:ee.redirectOnCompletion)||!e_)return[2];t.label=2;case 2:if(null===tu)return ei.lastPageHeight=Math.min(document.body.clientHeight,window.innerHeight),eE(!0),null==(e=window)||e.scrollTo(0,0),[2];return eG((0,l._)(eB).concat([tu])),tD(tu),[2]}})})()};(0,I.useEffect)(function(){(0,ey.N)(ey.v.TallyFormLoaded,{formId:T}),tv([{event:f.$x.FormView,sessionUuid:e3,page:eO}]),(0,ec.al)()&&(0,ec.$Y)({event:ey.v.TallyFormLoaded,payload:{formId:T}})},[]),(0,I.useEffect)(function(){var e;tj(),tv([{event:f.Ay.QuestionDropOff,sessionUuid:e3,blockGroupUuid:null==(e=tc.find(function(e){return(0,m.Im)(e6[e.blockGroupUuid])}))?void 0:e.blockGroupUuid}]),Object.keys(eY).length>0&&tE(eO),(!(0,ec.Fr)()&&!(0,ec.al)()||ei.popup||ei.embed&&1!==eO)&&(0,J.it)()},[eO]),(0,z.A)({blocks:H,pageBlocks:tl,formData:e6,formMetaData:eZ}),Q(eO,et),Z(function(){return!(0,ec.al)()&&!e_&&!e1&&Object.keys(e6).length>0},eN("form-respond.not-submitted-data-warning"),[e6,e1]);var tJ=(0,I.useCallback)(function(e,t){return(0,r._)(function(){var n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:if((0,m.Im)(t))return[2,!1];return[4,(0,ev.R)(tl)];case 1:if(n=r.sent(),(0,em.t)((0,o._)({},e,t),(0,em.N)(tl),n,tl)[e])return[2,!1];return[2,!0]}})})()},[tl]);if(el)return(0,c.jsx)(B,{metaData:et,integrations:er,styles:ei,children:(0,c.jsx)(j.A,{})});if(e1)return(0,c.jsx)(B,{metaData:et,integrations:er,styles:ei,children:(0,c.jsx)(j.A,{icon:x.A,title:eN("form-respond.unique-submission-conflict.title"),description:eN("form-respond.unique-submission-conflict.description")})});if(tC&&!tN)return(0,c.jsxs)(B,{metaData:et,integrations:er,styles:ei,children:[(0,c.jsx)(ew,{formId:T,onUnlock:function(e){return tM(e)}}),!ei.removeBranding&&(0,c.jsx)(eb.lC,{children:(0,c.jsx)(ex,{mode:"respond",styles:ei})})]});if(eV){var tY=(null==ee?void 0:ee.closeMessageTitle)||eN("form-respond.closed.title"),tq=(null==ee?void 0:ee.closeMessageDescription)||eN("form-respond.closed.description");return et.title=tY,et.description=tq,(0,c.jsx)(B,{metaData:et,integrations:er,styles:ei,children:(0,c.jsx)(j.A,{icon:_.A,title:tY,description:(null==ee?void 0:ee.closeMessageDescription)||eN("form-respond.closed.description")})})}return(0,c.jsxs)(B,{metaData:et,integrations:er,styles:ei,"data-sentry-element":"Layout","data-sentry-component":"FormRespond","data-sentry-source-file":"index.tsx",children:[(null==ee?void 0:ee.hasProgressBar)&&!eA&&!to&&(0,c.jsx)(U.A,{currentPage:eO,currentPageBlocks:tl,pages:e4,formData:e6,blocks:H,hasCover:void 0!==tn,popup:ei.popup,embed:ei.embed}),tn&&(0,c.jsx)(D.A,{cover:tn,settings:tr,styles:ei}),ta&&(0,c.jsx)(F.default,{logo:ta,withCover:!!tn,styles:ei}),(0,c.jsxs)(eb.UC,{className:"tally-page".concat(!eA?" tally-page-".concat(eO):"").concat(eA||to?" tally-page-thank-you":""),styles:ei,page:eO,isDefaultThankYouPage:eA,isCustomThankYouPage:to,hasProgressBar:null==ee?void 0:ee.hasProgressBar,"data-sentry-element":"Content","data-sentry-source-file":"index.tsx",children:[!eA&&td&&(0,c.jsx)(eb.p6,{className:"tally-back-button",children:(0,c.jsxs)(v.$,{variant:"ghost",onClick:tH,children:[(0,c.jsx)(v.$.Icon,{children:"rtl"===eM.direction?(0,c.jsx)(k.A,{}):(0,c.jsx)(S.A,{})}),(0,c.jsx)(v.$.Text,{children:eN("label.back")})]})}),eA?(0,c.jsx)(P.A,{mode:"respond",styles:ei}):(0,c.jsxs)("form",{onSubmit:function(e){tp||e.preventDefault()},children:[(0,c.jsx)("progress",{max:e4.length,value:eO,children:eN("form-respond.progress",{page:eO,pages:e4.length})}),eF&&(0,c.jsx)(A.A,{exception:eF}),(0,c.jsx)(E.A,{blocks:H,pageBlocks:tl,formData:e6,errors:ty,mode:"respond",formId:T,workspaceId:C,subscriptionPlan:ea,hasPartialSubmissions:null!=(g=null==ee?void 0:ee.hasPartialSubmissions)&&g,language:null!=(b=null==ee?void 0:ee.language)?b:m.TM.English,styles:ei,respondentUuid:e9,sessionUuid:e3,onChange:function(e,t){tU||(tO(e),e7((0,o._)({},e,t)),tJ(e,t).then(function(n){if(tv([{event:f.$x.FormStart,sessionUuid:e3,page:eO}]),n){var r,u=(0,a._)((0,i._)({},e6),(0,o._)({},e,t)),l=(0,J.pE)(eO,e4,H,ee,u,function(){}).pageQuestions;tv([{event:f.Ay.QuestionAnswer,sessionUuid:e3,blockGroupUuid:e},{event:f.Ay.QuestionDropOff,sessionUuid:e3,blockGroupUuid:null==(r=l.find(function(e){return(0,m.Im)(u[e.blockGroupUuid])}))?void 0:r.blockGroupUuid}])}else tv([{event:f.Ay.QuestionDropOff,sessionUuid:e3,blockGroupUuid:e}])}))},onSaveResponse:function(e){return(0,r._)(function(){var t;return(0,s.__generator)(this,function(n){return tU||((0,m.gf)(ea)&&(null==ee?void 0:ee.hasPartialSubmissions)?(t=(0,J.sJ)((0,i._)({},e6,e),eB,e4,H),eT=ek?(0,i._)({},eT,e6,t,e):(0,i._)({},eT,t,e)):eT=(0,i._)({},eT,e),tG()),[2]})})()},onSolveCaptcha:function(e){eq((0,i._)({},eY,e))}}),tp&&(0,c.jsxs)(I.Fragment,{children:[(0,c.jsxs)(eb.Xn,{className:"tally-submit-button",children:[(0,c.jsx)("div",{children:(0,c.jsxs)(v.$,{type:"submit",size:"lg",isLoading:eQ||tU||tb,onClick:tx,tabIndex:0,children:[(0,c.jsx)(v.$.Text,{children:tT}),(0,c.jsx)(v.$.Icon,{children:"rtl"===eM.direction?(0,c.jsx)(S.A,{}):(0,c.jsx)(k.A,{})})]})}),tS&&(0,c.jsx)("div",{children:(0,c.jsx)(ex,{mode:"respond",styles:ei})})]}),tw&&(0,c.jsx)(eb.MW,{dangerouslySetInnerHTML:{__html:eN("form-respond.pay-disclaimer",{buttonText:(0,m.QZ)(tT)})}}),tf&&(0,c.jsx)(eb.MW,{dangerouslySetInnerHTML:{__html:eN("form-respond.password-warning",{reportUrl:G.A.get("help-links.report-abuse")})}})]})]}),tS&&to&&(0,c.jsx)(eb.lC,{children:(0,c.jsx)(ex,{mode:"respond",styles:ei,isOnThankYouPage:!0,isOnCustomThankYouPage:!0})})]})]})}},26785:(e,t,n)=>{"use strict";n.d(t,{f:()=>a,y:()=>i});var r=n(51220),o=n(13829),i=function(e){return new Promise(function(t){return setTimeout(t,e)})},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r._)(function(){var r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:r=0,o.label=1;case 1:if(!(!e()&&(null===n||r<n)))return[3,3];return[4,i(t)];case 2:return o.sent(),r+=t,[3,1];case 3:return[2]}})})()}},32844:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(99649),o=n(6029),i=n(55729),a=n(94145).Ay.textarea.withConfig({componentId:"sc-325428e2-0"})(["width:100%;max-width:100%;resize:vertical;min-height:96px;padding:","px ","px;color:",";caret-color:",";background-color:",";box-shadow:",";border:0;border-radius:","px;outline:none;@media (hover:hover){&:hover{box-shadow:",";}}&:focus{box-shadow:",";}&::placeholder{color:",";}"],function(e){var t=e.theme;return(t.form.inputHeight-t.form.baseFontSize)/2},function(e){return e.theme.form.inputHorizontalPadding},function(e){return e.theme.color.text},function(e){return e.theme.color.text},function(e){return e.theme.color.inputBackground},function(e){return e.theme.color.inputBoxShadow},function(e){return e.theme.form.inputBorderRadius},function(e){return e.theme.color.inputBoxShadowHover},function(e){return e.theme.color.inputBoxShadowFocus},function(e){return e.theme.color.inputPlaceholder}),u=(0,i.forwardRef)(function(e,t){return(0,o.jsx)(a,(0,r._)({ref:t},e))});u.displayName="Textarea";let l=u},40936:(e,t,n)=>{"use strict";n.d(t,{El:()=>h,PZ:()=>p,Ti:()=>d,Uc:()=>g,bI:()=>c,iN:()=>v,io:()=>s,lO:()=>f,vE:()=>l,w3:()=>m});var r=n(60573),o=n(59638),i=n(96110),a=n(25730),u={image:[{type:".jpg"},{type:".jpeg"},{type:".png"},{type:".gif"},{type:".svg"},{type:".heic"},{type:".webp"},{type:".bmp"},{type:".psd"}],application:[{type:".pdf"},{type:".doc"},{type:".docx"},{type:".xls"},{type:".xlsx"},{type:".ppt"},{type:".pptx"},{type:".zip"},{type:".rar"},{type:".json"},{type:".gzip"},{type:".odt"}],text:[{type:".txt"},{type:".csv",otherMimeTypes:["application"]},{type:".html"},{type:".xml"}],video:[{type:".mp4"},{type:".mov"},{type:".webm"}],audio:[{type:".mp3"},{type:".wav"},{type:".mp4"},{type:".m4a"}]},l=function(e){switch(e.split(".").pop()){case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";case"gif":return"image/gif";case"svg":return"image/svg+xml";case"webp":return"image/webp";case"bmp":return"image/bmp";case"ico":return"image/x-icon"}return null},s=function(e){return[{label:e("label.image"),options:[{text:e("label.all-image-files"),value:"image/*"}].concat((0,o._)(u.image.map(function(e){var t=e.type;return{text:t,value:t}})))},{label:e("label.video"),options:[{text:e("label.all-video-files"),value:"video/*"}].concat((0,o._)(u.video.map(function(e){var t=e.type;return{text:t,value:t}})))},{label:e("label.audio"),options:[{text:e("label.all-audio-files"),value:"audio/*"}].concat((0,o._)(u.audio.map(function(e){var t=e.type;return{text:t,value:t}})))},{label:e("label.text"),options:u.text.map(function(e){var t=e.type;return{text:t,value:t}})},{label:e("label.application"),options:u.application.map(function(e){var t=e.type;return{text:t,value:t}})}]},c=function(e){if(!e)return[];var t=[];return Object.keys(e).forEach(function(n){var r=e[n];if(r.includes("*")&&1===r.length)return t.push("".concat(n));r.filter(function(e){return"*"!==e}).forEach(function(e){t.includes(e)||t.push(e)})}),t},d=function(e){var t={};return e.forEach(function(n,o){var i=Object.keys(u).filter(function(e){return u[e].map(function(e){return e.type}).includes(n)});if(n.includes("*")){var a=(0,r._)(n.split("/"),1)[0],l="".concat(a,"/*"),s=u[a].map(function(e){return e.type}),c=e.filter(function(e){return s.includes(e)});if(0===c.length){t[l]=["*"];return}var d=0;e.forEach(function(e,t){c.includes(e)&&t>d&&(d=t)}),o>d&&(t[l]=["*"]);return}i.forEach(function(e){var r,o="".concat(e,"/*");if(!(t[o]&&t[o].includes("*"))){var i=null==(r=u[e].find(function(e){return e.type===n}))?void 0:r.otherMimeTypes;i&&i.forEach(function(e){var r="".concat(e,"/*");t[r]?t[r].push(n):t[r]=[n]}),t[o]?t[o].push(n):t[o]=[n]}})}),t},f=function(e,t){if(!e||!t)return 0;var n=e;return"KB"===t?n*=1024:"MB"===t?n=1024*n*1024:"GB"===t&&(n=1024*n*1048576),n},p=function(e,t){if(!e||!t)return 0;var n=e;return"KB"===t?n/=1024:"MB"===t?n=n/1024/1024:"GB"===t&&(n=n/1024/1024/1024),n},m=f(a.A.get("file-upload.max-file-size"),a.A.get("file-upload.max-file-size-unit")),v=function(e,t){if(void 0===e||0===Object.keys(e).length)return"";var n=(0,i.Z0)(),r=[];Object.keys(e).forEach(function(a){var u=e[a],l=a.replace("/*","").trim();if(u.includes("*")&&1===u.length)return[i.TM.German].includes(n)?r.push(t("label.".concat(l))):r.push(t("label.".concat(l)).toLowerCase());r.push.apply(r,(0,o._)(u))});var a=r.filter(function(e,t){return r.indexOf(e)===t});return 1===a.length?t("form-builder.file-upload.accepted-file-types",{types:a[0]}):t("form-builder.file-upload.accepted-file-types",{types:a.join(", ")})},h=function(e,t,n,r){var o=a.A.get("file-upload.max-file-size"),i=a.A.get("file-upload.max-file-size-unit");return e&&t?r?t:f(t,null!=n?n:i)>m?o:t:r?void 0:o},g=function(e,t,n,r){var o=a.A.get("file-upload.max-file-size-unit");return e&&n&&t?r?n:"GB"===n?o:n:r?void 0:o}},46237:(e,t,n)=>{"use strict";n.d(t,{CL:()=>b,Kv:()=>v,Lu:()=>h,YS:()=>g,ak:()=>y,lA:()=>m});var r=n(4765),o=n(96110),i=n(2185),a=n(13485),u=n(70594),l=n(91946),s=n(50382),c=n(36892),d=n(48668),f=n(99611),p=n.n(f),m=function(e){if(void 0!==e&&null!==e){if("string"==typeof e){var t=(0,i.H)(e);return(0,a.f)(t)?t:void 0}return e}},v=function(e,t){var n=t.regexp,a=t.monthsShort,u=t.dayIndex,l=void 0===u?-1:u,s=t.monthIndex,c=void 0===s?-1:s,d=t.yearIndex,f=void 0===d?-1:d,m=t.monthNumberIndex,v=void 0===m?-1:m;try{var h=!0,g=!1,y=void 0;try{for(var b,w,x=p()(e,RegExp(n,"ig"))[Symbol.iterator]();!(h=(w=x.next()).done);h=!0){var _=w.value;if(_[f]&&_[l]&&(_[c]||_[v])){var k=_[v]?parseFloat(_[v])-1:a.indexOf(_[c]);k>=0&&k<=11&&(b=(0,i.H)("".concat((0,o.CF)(_[f],4,"0"),"-").concat((0,o.CF)(k+1,2,"0"),"-").concat((0,o.CF)(_[l],2,"0"))))}}}catch(e){g=!0,y=e}finally{try{h||null==x.return||x.return()}finally{if(g)throw y}}}catch(n){(0,r.Cp)(n,{extra:{date:e,payload:t}})}return b},h=function(e){var t=new Date,n=new Date(e);return t.getFullYear()===n.getFullYear()?(0,u.GP)(new Date(e),"MMM d"):(0,u.GP)(new Date(e),"MMM d, yyyy")},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date,r=new Date(e);return n.getFullYear()===r.getFullYear()?t&&n.getDate()===r.getDate()&&n.getMonth()===r.getMonth()?(0,u.GP)(new Date(e),"hh:mm a"):(0,u.GP)(new Date(e),"MMM d, hh:mm a"):(0,u.GP)(new Date(e),"MMM d, yyyy hh:mm a")},y=function(e,t){var n=new Date,r=new Date(e),o=g(e);return 1>(0,l.o)(n,r)?o=t("label.just-now"):1>(0,s.c)(n,r)&&(o=t("label.time-ago",{period:(0,c.k)(n,r,{addSuffix:!1})})),o},b=function(e,t){var n=new Date,r=new Date(e);return 1>(0,l.o)(n,r)?t("label.just-now").toLowerCase():1>(0,d.M)(n,r)?t("label.time-ago",{period:"".concat((0,l.o)(n,r),"m")}):1>(0,s.c)(n,r)?t("label.time-ago",{period:"".concat((0,d.M)(n,r),"h")}):4>(0,s.c)(n,r)?t("label.time-ago",{period:"".concat((0,s.c)(n,r),"d")}):h(e)}},46355:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var r={get:function(e){try{var t,n;return null==(n=window.localStorage)||null==(t=n.getItem)?void 0:t.call(n,e)}catch(e){return null}},set:function(e,t){try{var n,r;null==(r=window.localStorage)||null==(n=r.setItem)||n.call(r,e,t)}catch(e){return}},remove:function(e){try{var t,n;null==(n=window.localStorage)||null==(t=n.removeItem)||t.call(n,e)}catch(e){return}}}},73881:(e,t,n)=>{"use strict";n.d(t,{QJ:()=>a,bR:()=>u,yH:()=>i});var r=n(46355),o="PHONE_NUMBER_INPUT",i=function(e,t,n){try{var i={},a=r.D.get(o);a&&(i=JSON.parse(a)),i.keys||(i.keys={}),i.lastCountryCode=n||i.lastCountryCode||null,t||n?i.keys[e]={value:t,countryCode:n}:delete i.keys[e],localStorage.setItem(o,JSON.stringify(i))}catch(e){}},a=function(e,t,n){try{var i={},a=r.D.get(o);if(a){if(i=JSON.parse(a),!t&&!n&&i.lastCountryCode)return i.lastCountryCode;if(i.keys&&i.keys[e]&&t===i.keys[e].value&&i.keys[e].countryCode)return i.keys[e].countryCode}}catch(e){}return null},u=function(e){try{var t=r.D.get(o);if(!t)return;var n=JSON.parse(t);if(!n.keys)return;var i=!1,a=!0,u=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var d=s.value;n.keys[d]&&(delete n.keys[d],i=!0)}}catch(e){u=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}0===Object.keys(n.keys).length&&(delete n.keys,i=!0),i&&localStorage.setItem(o,JSON.stringify(n))}catch(e){}}},86973:()=>{},98194:(e,t,n)=>{"use strict";n.d(t,{Fw:()=>b,HF:()=>_,KB:()=>x,PL:()=>v,Ql:()=>w,UF:()=>p,Xq:()=>y,_R:()=>k,c2:()=>m,p9:()=>h,te:()=>g});var r=n(60573),o=n(76933),i=n(96110),a=n(36102),u=n.n(a),l=n(36002),s=n(70259),c=n(50499),d=n(97279),f=n(84580),p=function(e){var t=document.createElement("textarea");return t.textContent=e,t.innerHTML},m=function(e){var t=[];return e&&e.forEach&&0!==e.length&&e.forEach(function(e){if(e.nodeType===Node.TEXT_NODE&&e.textContent)t.push([p(e.textContent)]);else if(e.nodeType===Node.ELEMENT_NODE&&(e.childNodes.length>0||"BR"===e.nodeName)&&"SCRIPT"!==e.nodeName){var n,r,o,i,a,u=[];switch(e.nodeName){case"B":u.push(["font-weight","bold"]);break;case"U":u.push(["text-decoration","underline"]);break;case"I":u.push(["font-style","italic"]);break;case"A":var l=e.href;((null==l?void 0:l.match(/^http(s)?:\/\//))||(null==l?void 0:l.match(/^mailto:/))||(null==l?void 0:l.match(/^tel:/))||(null==l?void 0:l.match(/^sms:/)))&&u.push(["href",l]);break;case"FONT":var s=e.color;(null==s?void 0:s.match(/#[0-9a-fA-F]{3,6}/))&&u.push(["color",s]);break;case"DIV":u.push(["tag","div"]);break;case"P":u.push(["tag","p"]);break;case"BR":u.push(["tag","br"]);break;case"SPAN":u.push(["tag","span"])}var c=e.style;if(((null==c||null==(n=c.color)?void 0:n.match(/#[0-9a-fA-F]{3,6}/))||(null==c||null==(r=c.color)?void 0:r.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==c?void 0:c.color)==="inherit")&&u.push(["color",c.color]),((null==c||null==(o=c.backgroundColor)?void 0:o.match(/#[0-9a-fA-F]{3,6}/))||(null==c||null==(i=c.backgroundColor)?void 0:i.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==c?void 0:c.backgroundColor)==="inherit")&&u.push(["background-color",c.backgroundColor]),null==c?void 0:c.fontWeight){var d=null==c?void 0:c.fontWeight;["bolder","lighter"].includes(d)&&(d="bold"),u.push(["font-weight",d])}(null==c?void 0:c.fontStyle)&&u.push(["font-style",c.fontStyle]),(null==c?void 0:c.textDecoration)&&u.push(["text-decoration",c.textDecoration]),(null==c?void 0:c.display)&&u.push(["display",c.display]),"SPAN"===e.nodeName&&(null==(a=e.className)?void 0:a.indexOf("mention"))!==-1&&u.push(["mention",e.dataset.uuid]),u.length>0&&(1===e.childNodes.length&&e.childNodes[0].nodeType===Node.TEXT_NODE&&e.childNodes[0].textContent?t.push([p(e.childNodes[0].textContent),u]):"BR"===e.nodeName?t.push(["",u]):t.push([m(e.childNodes),u]))}}),t},v=function(e,t,n){return e.length&&t.length?e.map(function(e){var o=(0,r._)(e,2),i=o[0],a=o[1],u=!1,l=null==a?void 0:a.filter(function(e){var o=(0,r._)(e,2),i=o[0],a=o[1];if("mention"===i){var l=t.find(function(e){return e.uuid===a});if(!l||!n.find(function(e){return e.uuid===l.field.uuid}))return u=!0,!1}return!0});if(u)return["",l];if("string"==typeof i){var s=null==a?void 0:a.find(function(e){return"mention"===(0,r._)(e,1)[0]});if(s){var c=s[1],d=t.find(function(e){return e.uuid===c}),f=n.find(function(e){return e.uuid===(null==d?void 0:d.field.uuid)});if(d&&f&&d.field.title!==f.title)return[i.replace("@".concat(d.field.title),"@".concat(f.title)),l]}}return["string"==typeof i?i:v(i,t,n),l]}):e},h=function(e){var t=document.createElement("div");return t.innerHTML=e,(0,o.cDG)(m(t.childNodes))},g=function(e,t,n,r){if("undefined"==typeof document)return"";var a=(0,o.cDG)(e.safeHTMLSchema);a=a.replace(/\u200B/g,"");var u=document.createElement("div");u.innerHTML=a;var l=!0,c=!1,d=void 0;try{for(var p,m=e.mentions[Symbol.iterator]();!(l=(p=m.next()).done);l=!0)!function(){var e,a,l,c=p.value,d=c.uuid,m=c.field,v=c.defaultValue,h=u.querySelectorAll('[data-uuid="'.concat(d,'"]'));if(0!==h.length){var g=m.uuid,y=m.type,b=m.questionType,w=m.blockGroupUuid,x=m.calculatedFieldType,_="";y===o.PUO.Metadata?_=r[g]:y===o.PUO.InputField&&b&&w?_=b===o._B_.InputDate?null!=(e=n[w])?e:"":(0,f.S4)(b,n[w],t):[o.PUO.CalculatedField,o.PUO.HiddenField].includes(y)&&g&&w&&(_=(null==(a=n[w])?void 0:a[g])?n[w][g]:""),y===o.PUO.CalculatedField&&x===o.ZHN.Number&&"number"==typeof _&&(_=(0,i.U7)(_,2)),m.questionType===o._B_.Matrix&&(_=(null!=(l=n[m.blockGroupUuid][m.uuid])?l:[]).map(function(e){return(0,s.Q)(e,t)}).join(",")),(u.textContent.startsWith("http")||u.textContent.startsWith("www."))&&("string"!=typeof _||-1===_.indexOf("/"))&&(_=encodeURIComponent(_)),h.forEach(function(e){e.innerHTML=(null==_?void 0:_.toString())||v||""})}}()}catch(e){c=!0,d=e}finally{try{l||null==m.return||m.return()}finally{if(c)throw d}}return(0,i.Pl)(u.textContent,!0)},y=function(e){return!(e&&Array.isArray(null==e?void 0:e.safeHTMLSchema))||0===(0,i.QZ)((0,o.cDG)(e.safeHTMLSchema)).length},b=function(){var e=document.createElement("div");return e.innerHTML="Tally Forms",{safeHTMLSchema:m(e.childNodes),mentions:[]}},w=function(e){var t=S("Form name",(0,d.ww)(e,{includeMetadata:!0}).find(function(e){return"formName"===e.uuid})),n=t.mentionObj,r=t.mentionHtml,o=document.createElement("div");return o.innerHTML="New Tally Form Submission for ".concat(r),{safeHTMLSchema:m(o.childNodes),mentions:[n]}},x=function(){var e=S("All answers",(0,d.NT)()),t=e.mentionObj,n=e.mentionHtml,r=document.createElement("div");return r.innerHTML=n,{safeHTMLSchema:m(r.childNodes),mentions:[t]}},_=function(e){var t=[],n="",r=S("Form name",(0,d.ww)(e,{includeMetadata:!0,includePlaceholders:!0}).find(function(e){return"formName"===e.uuid})),o=r.mentionObj,i=r.mentionHtml;n+="<div>New submission for *".concat(i,"*.</div><br/>"),t.push(o);var a=S("All answers",(0,d.NT)()),u=a.mentionObj,l=a.mentionHtml;n+="<div>".concat(l,"</div>"),t.push(u);var s=document.createElement("div");return s.innerHTML=n,{safeHTMLSchema:m(s.childNodes),mentions:t}},k=function(e){var t=S(e.title,e),n=t.mentionObj,r=t.mentionHtml,o=document.createElement("div");return o.innerHTML=r,{safeHTMLSchema:m(o.childNodes),mentions:[n]}},S=function(e,t){var n=(0,l.A)();return{mentionObj:{uuid:n,field:t},mentionHtml:'<span class="mention" contenteditable="false" data-uuid="'.concat(n,'">@').concat(u().encode(e),"</span>").concat((0,c.nr)()?"​":"")}}}}]);